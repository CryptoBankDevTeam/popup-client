var submit=document.getElementById("submit"),url="https://aelf-public-node.aelf.io/api/blockChain/transactionResult?transactionId=",paymentAddress="JRmBduh4nXWi1aXgdUsj5gJrzeZb2LxmrAbf7W99faZSvoAaE",pre_address="ELF_",post_address="_AELF",final_address=pre_address+paymentAddress+post_address;document.getElementById("addr").value=final_address,submit.onclick=function(e){e.preventDefault();var t=document.getElementById("hash").value,n=url+t,s='<img src="./img/sent.svg" alt="sent">',d="<h4>Payment Confirmed</h4>",o='<a href="#" id="close">Close Window</a>',a="Close Window",l='<img src="./img/failed.svg" alt="sent"><br />',m="<h4>Payment Verification Failed</h4><br />";let r=new XMLHttpRequest;r.open("GET",n),r.send(),r.onload=(()=>{console.log(r.responseText);const e=JSON.parse(r.responseText);console.log(e.TransactionId),console.log(e.Status),console.log(e.Transaction.From);let t=pre_address+e.Transaction.To+post_address;t==final_address&&"MINED"==e.Status?(console.log("Payment Verified"),$("#demo").append(s+d+o),document.getElementById("payment-hash").style.display="none",document.getElementById("payment-address").style.display="none",document.getElementById("close").value=a,document.getElementById("close").style.backgroundColor="Red",document.getElementById("close").style.marginTop="50px"):(console.log("Payment verification failed"),$("#demo").append(l+m+o),document.getElementById("payment-hash").style.display="none",document.getElementById("payment-address").style.display="none",document.getElementById("close").value=a,document.getElementById("close").style.backgroundColor="Red",document.getElementById("close").style.marginTop="50px")})};